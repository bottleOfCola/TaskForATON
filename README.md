На всякий случай, сделал интегрированные тесты, чтобы можно было проверить работу апи одним нажатием.
Спасибо за такое хорошее задание, оно было в сотни раз интереснее, чем эти олимпиадные задачи.
Абсолютно все запросы идут через JSON.

И пока делал задание, чувстсовал много противоречий и очень хочу про них написать.
1. сущность User можно нормализовать.
2. Таблицу админов выделить отдельно
3. Таблицу мягко удаленных пользователей тоже выделить отдельно
4. Вместо ModifiedOn/By можно было сделать историю обновлений отдельной таблицей
5. Gender можно было обозначит не числом, а enum. Так было бы проще и безопаснее, на мой взгляд.
6. В Modified/Revoked/CreatedBy стоило вставлять не логин, а Guid. Это избавит от артефактов в бд.
7. Критериев валидации, кроме Gender, не было, поэтому с этим не заморачивался.
8. В каждом Action, где возвращается пользователь, я возвращал только Guid, если не было уточнений или намеков. В случае с GetWithLoginAndPassword я вернул сущность полностью, что не безопасно, но, на мой взгляд, может соответствовать требованиям.
9. Пароли стоит хэшировать.
